{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst BACKEND_URL = 'http://127.0.0.1:3001';\nexport function useAuthStatus() {\n  _s();\n  const [loggedIn, setLoggedIn] = useState(null);\n  useEffect(() => {\n    fetch(`${BACKEND_URL}/api/auth/status`, {\n      credentials: 'include'\n    }).then(res => res.json()).then(data => setLoggedIn(data.loggedIn)).catch(() => setLoggedIn(false));\n  }, []);\n  const logout = async () => {\n    try {\n      const response = await fetch(`${BACKEND_URL}/auth/logout`, {\n        method: 'POST',\n        credentials: 'include'\n      });\n      const data = await response.json();\n      if (data.success) {\n        setLoggedIn(false);\n        window.location.href = data.redirectUrl;\n      } else {\n        throw new Error('Logout failed');\n      }\n    } catch (error) {\n      console.error('Logout failed:', error);\n      throw error;\n    }\n  };\n  return {\n    loggedIn,\n    logout\n  };\n}\n_s(useAuthStatus, \"52q5TAFYeNRsNnCUdcEFzNdf7uU=\");","map":{"version":3,"names":["useState","useEffect","BACKEND_URL","useAuthStatus","_s","loggedIn","setLoggedIn","fetch","credentials","then","res","json","data","catch","logout","response","method","success","window","location","href","redirectUrl","Error","error","console"],"sources":["/Users/chrishorn/Documents/coding/spotify-openai-app/frontend/src/hooks/useAuthStatus.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst BACKEND_URL = 'http://127.0.0.1:3001';\n\nexport function useAuthStatus() {\n  const [loggedIn, setLoggedIn] = useState(null);\n\n  useEffect(() => {\n    fetch(`${BACKEND_URL}/api/auth/status`, { credentials: 'include' })\n      .then(res => res.json())\n      .then(data => setLoggedIn(data.loggedIn))\n      .catch(() => setLoggedIn(false));\n  }, []);\n\n  const logout = async () => {\n    try {\n      const response = await fetch(`${BACKEND_URL}/auth/logout`, {\n        method: 'POST',\n        credentials: 'include'\n      });\n      \n      const data = await response.json();\n      \n      if (data.success) {\n        setLoggedIn(false);\n        window.location.href = data.redirectUrl;\n      } else {\n        throw new Error('Logout failed');\n      }\n    } catch (error) {\n      console.error('Logout failed:', error);\n      throw error;\n    }\n  };\n\n  return { loggedIn, logout };\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,WAAW,GAAG,uBAAuB;AAE3C,OAAO,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACdM,KAAK,CAAC,GAAGL,WAAW,kBAAkB,EAAE;MAAEM,WAAW,EAAE;IAAU,CAAC,CAAC,CAChEC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAIN,WAAW,CAACM,IAAI,CAACP,QAAQ,CAAC,CAAC,CACxCQ,KAAK,CAAC,MAAMP,WAAW,CAAC,KAAK,CAAC,CAAC;EACpC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAAC,GAAGL,WAAW,cAAc,EAAE;QACzDc,MAAM,EAAE,MAAM;QACdR,WAAW,EAAE;MACf,CAAC,CAAC;MAEF,MAAMI,IAAI,GAAG,MAAMG,QAAQ,CAACJ,IAAI,CAAC,CAAC;MAElC,IAAIC,IAAI,CAACK,OAAO,EAAE;QAChBX,WAAW,CAAC,KAAK,CAAC;QAClBY,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGR,IAAI,CAACS,WAAW;MACzC,CAAC,MAAM;QACL,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;MAClC;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,MAAMA,KAAK;IACb;EACF,CAAC;EAED,OAAO;IAAElB,QAAQ;IAAES;EAAO,CAAC;AAC7B;AAACV,EAAA,CAhCeD,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}